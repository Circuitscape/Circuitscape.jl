<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Circuitscape.jl Documentation</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Circuitscape.jl Documentation</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Quick-Start-Guide"><span>Quick Start Guide</span></a></li><li><a class="tocitem" href="#Running-a-job"><span>Running a job</span></a></li><li><a class="tocitem" href="#Building-a-Circuitscape-Job"><span>Building a Circuitscape Job</span></a></li><li><a class="tocitem" href="#Citing-Circuitscape"><span>Citing Circuitscape</span></a></li><li><a class="tocitem" href="#What-is-new-with-Circuitscape?"><span>What is new with Circuitscape?</span></a></li><li class="toplevel"><a class="tocitem" href="#Related-Projects"><span>Related Projects</span></a></li><li class="toplevel"><a class="tocitem" href="#Further-Reading"><span>Further Reading</span></a></li></ul></li><li><a class="tocitem" href="usage/">User Guide</a></li><li><a class="tocitem" href="options/">Inputs, Outputs and Options</a></li><li><a class="tocitem" href="compute/">On Solvers and Computation Time</a></li><li><a class="tocitem" href="otherprog/">Calling Circuitscape from other Programs</a></li><li><a class="tocitem" href="logging/">Logging Options</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Circuitscape/Circuitscape.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Circuitscape-Documentation"><a class="docs-heading-anchor" href="#Circuitscape-Documentation">Circuitscape Documentation</a><a id="Circuitscape-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Circuitscape-Documentation" title="Permalink"></a></h1><p>Circuitscape is an open-source Julia program that uses circuit theory to model connectivity  in heterogeneous landscapes. Its most common applications include modeling movement and gene flow of plants and animals, as well as identifying areas important for connectivity  conservation. Circuit theory complements commonly-used connectivity models because of its  connections to random walk theory and its ability to simultaneously evaluate contributions  of multiple dispersal pathways. Landscapes are represented as conductive surfaces, with  low resistances assigned to landscape features types that are most permeable to movement  or best promote gene flow, and high resistances assigned to movement barriers. Effective  resistances, current flow, and voltages calculated across the landscapes can then be  related to ecological processes, such as individual movement and gene flow.</p><p>More detail about the underlying model, its parameterization, and potential applications  in ecology, evolution, and conservation planning can be found in McRae (2006) and  McRae et al. (2008).</p><p>More detail about implementation can be found in the  <a href="https://proceedings.juliacon.org/papers/10.21105/jcon.00058">Circuitscape In Julia paper</a>. </p><h1 id="Quick-Start-Guide"><a class="docs-heading-anchor" href="#Quick-Start-Guide">Quick Start Guide</a><a id="Quick-Start-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start-Guide" title="Permalink"></a></h1><p>This is a quick start guide. If you&#39;re looking for basics on how to use Circuitscape,  refer to the usage guide. </p><p>To run Circuitscape, you need to install the <a href=".">latest version</a> of Julia.  At the Julia prompt, install the Circuitscape package by running the following code</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;Circuitscape&quot;)</code></pre><p>You can also install Circuitscape in a  <a href="https://julialang.github.io/Pkg.jl/v1/environments/">local project</a> as well. </p><h2 id="Running-a-job"><a class="docs-heading-anchor" href="#Running-a-job">Running a job</a><a id="Running-a-job-1"></a><a class="docs-heading-anchor-permalink" href="#Running-a-job" title="Permalink"></a></h2><p>A Circuitscape job is fully described by an INI file. This configuration file consists of file paths to data as well as flag values. A detailed list of fields found an in an INI File can be found in the Files and Flags section. Examples can be found in the  <a href="https://github.com/Circuitscape/Circuitscape.jl/tree/master/test/input">test folder</a>. You can also use a builtin UI to build Circuitscape jobs. For more on that, skip ahead to  Building a Circuitscape Job. </p><p>If you do have your INI file handy, you can run the job by: </p><pre><code class="language-julia hljs">compute(&quot;myjob.ini&quot;)</code></pre><h2 id="Building-a-Circuitscape-Job"><a class="docs-heading-anchor" href="#Building-a-Circuitscape-Job">Building a Circuitscape Job</a><a id="Building-a-Circuitscape-Job-1"></a><a class="docs-heading-anchor-permalink" href="#Building-a-Circuitscape-Job" title="Permalink"></a></h2><p><img src="https://raw.githubusercontent.com/Circuitscape/www.circuitscape.org/RA/inibuilder/assets/inibuilder.gif" alt/></p><p>The builder is kicked off by calling the <code>start()</code> function from the Julia prompt. It will build an INI file for you step by step, and either run the job directly or write the final INI file to a specified location. You can exit the builder at any time by hitting  Cntrl+C. </p><p>Please note that this version of Circuitscape <strong>does not</strong> come with a GUI. </p><p>You can, as a fallback, manually write your own INI file by copying and pasting an example  from the <a href=".">test folder</a> and change values as needed.</p><h2 id="Citing-Circuitscape"><a class="docs-heading-anchor" href="#Citing-Circuitscape">Citing Circuitscape</a><a id="Citing-Circuitscape-1"></a><a class="docs-heading-anchor-permalink" href="#Citing-Circuitscape" title="Permalink"></a></h2><p>Please use the following to cite Circuitscape: </p><pre><code class="language-bibtex hljs">@article{Anantharaman2020,
  doi = {10.21105/jcon.00058},
  url = {https://doi.org/10.21105/jcon.00058},
  year = {2020},
  publisher = {The Open Journal},
  volume = {1},
  number = {1},
  pages = {58},
  author = {Ranjan Anantharaman and Kimberly Hall and Viral B. Shah and Alan Edelman},
  title = {Circuitscape in Julia: High Performance Connectivity Modelling to Support Conservation Decisions},
  journal = {Proceedings of the JuliaCon Conferences}
}</code></pre><h2 id="What-is-new-with-Circuitscape?"><a class="docs-heading-anchor" href="#What-is-new-with-Circuitscape?">What is new with Circuitscape?</a><a id="What-is-new-with-Circuitscape?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-new-with-Circuitscape?" title="Permalink"></a></h2><p>The new Circuitscape is built entirely in the Julia language, a new programming language for technical computing. Julia is built from the ground up to be <a href="http://julialang.org/benchmarks">fast</a>. As such, this offers a number of advantages over the previous version, and these are detailed below.</p><h3 id="Faster-and-More-Scalable"><a class="docs-heading-anchor" href="#Faster-and-More-Scalable">Faster and More Scalable</a><a id="Faster-and-More-Scalable-1"></a><a class="docs-heading-anchor-permalink" href="#Faster-and-More-Scalable" title="Permalink"></a></h3><p>We benchmarked <code>Circuitscape.jl</code> (v0.1.0) with the Python version (v4.0.5) to obtain the following results. We started up Circuitscape with 16 parallel processes, and used benchmark problems from the standard Circuitscape <a href="https://github.com/Circuitscape/BigTests">benchmark suite.</a></p><img src="benchmark/benchmark.png" width=650 height=450><p>These benchmarks were run on a Linux (Ubuntu) server machine with the following specs:</p><ul><li>Name: Intel(R) Xeon(R) Silver 4114 CPU</li><li>Clock Speed: 2.20GHz</li><li>Number of cores: 20</li><li>RAM: 384 GB</li></ul><p>From the benchmark, we see that the new version is upto <em>4x faster</em> on 16 processes. However, the best performing bar in the chart is <em>Julia-CHOLMOD</em>, which is a new feature introduced.</p><h3 id="New-Solver-Mode-CHOLMOD"><a class="docs-heading-anchor" href="#New-Solver-Mode-CHOLMOD">New Solver Mode - CHOLMOD</a><a id="New-Solver-Mode-CHOLMOD-1"></a><a class="docs-heading-anchor-permalink" href="#New-Solver-Mode-CHOLMOD" title="Permalink"></a></h3><p>Julia-CHOLMOD is a new solver mode used in the new Circuitscape. It performs a <a href="https://en.wikipedia.org/wiki/Cholesky_decomposition">cholesky decomposition</a> on the graph constructed, and performs a batched back substitution to compute the voltages. It plugs into the <a href="http://faculty.cse.tamu.edu/davis/suitesparse.html">CHOLMOD</a> library, which is part of the SuiteSparse collection of high performance sparse matrix algorithms.</p><p>To use the this new mode, include a line in your Circuitscape INI file:</p><pre><code class="nohighlight hljs">solver = cholmod</code></pre><p>The cholesky decomposition is a direct solver method, unlike the algebraic multigrid method used by default in both the old and the new version. The advantage with this new direct method is that it can be much faster than the iterative solution, within a particular problem size.</p><p><em>Word of caution</em>: The cholesky decomposition is not practical to use beyond a certain problem size because of phenomenon called <a href="https://algowiki-project.org/en/Cholesky_method#Reordering_to_reduce_the_number_of_fill-in_elements">fill-in</a>, which results in loss of sparsity and large memory consumption.</p><h3 id="Parallel,-everywhere"><a class="docs-heading-anchor" href="#Parallel,-everywhere">Parallel, everywhere</a><a id="Parallel,-everywhere-1"></a><a class="docs-heading-anchor-permalink" href="#Parallel,-everywhere" title="Permalink"></a></h3><p>The old Circuitscape had limited support for parallelism, which worked on Mac and Linux, but didn&#39;t work on Windows.</p><p>Julia as a programming language is built from the ground up to be parallel, and as a result the new Circuitscape natively supports parallelism on all three platforms.</p><h3 id="Single-Precision-(Experimental)"><a class="docs-heading-anchor" href="#Single-Precision-(Experimental)">Single Precision (Experimental)</a><a id="Single-Precision-(Experimental)-1"></a><a class="docs-heading-anchor-permalink" href="#Single-Precision-(Experimental)" title="Permalink"></a></h3><p>The new Circuitscape introduces the ability to run problems in single precision as opposed to the standard double precision.</p><p>Single precision usually takes much less memory, but trades off against solution accuracy.</p><p>Use this new feature by including a line in your config file:</p><pre><code class="nohighlight hljs">precision = single</code></pre><h1 id="Related-Projects"><a class="docs-heading-anchor" href="#Related-Projects">Related Projects</a><a id="Related-Projects-1"></a><a class="docs-heading-anchor-permalink" href="#Related-Projects" title="Permalink"></a></h1><ol><li><a href="https://github.com/Circuitscape/Omniscape.jl">Omniscape.jl</a> - Omnidirectional connectivity analysis built on top of Circuitscape</li><li><a href="https://github.com/JuliaLinearAlgebra/AlgebraicMultigrid.jl">AlgebraicMultigrid.jl</a> - Algebraic Multigrid methods in Julia. This is the default solver used in Circuitscape. </li></ol><h1 id="Further-Reading"><a class="docs-heading-anchor" href="#Further-Reading">Further Reading</a><a id="Further-Reading-1"></a><a class="docs-heading-anchor-permalink" href="#Further-Reading" title="Permalink"></a></h1><ul><li><p>Beier, P., W. Spencer, R. Baldwin, and B.H. McRae. 2011. Best science practices for developing regional connectivity maps. Conservation Biology 25(5): 879-892</p></li><li><p>Dickson B.G., G.W. Roemer, B.H. McRae, and J.M. Rundall. 2013. Models of regional habitat quality and connectivity for pumas (<em>Puma concolor</em>) in the southwestern United States. PLoS ONE 8(12): e81898. doi:10.1371/journal.pone.0081898</p></li><li><p>McRae, B.H. 2006. Isolation by resistance. Evolution 60:1551-1561.</p></li><li><p>McRae, B.H. and P. Beier. 2007. Circuit theory predicts Gene flow in plant and animal populations. Proceedings of the National Academy of Sciences of the USA 104:19885-19890.</p></li><li><p>McRae, B.H., B.G. Dickson, T.H. Keitt, and V.B. Shah. 2008. Using circuit theory to model connectivity in ecology and conservation. Ecology 10: 2712-2724.</p></li><li><p>Shah, V.B. 2007. An Interactive System for Combinatorial Scientific Computing with an Emphasis on Programmer Productivity. PhD thesis, University of California, Santa Barbara.</p></li><li><p>Shah,V.B. and B.H. McRae. 2008. Circuitscape: a tool for landscape ecology. In: G. Varoquaux, T. Vaught, J. Millman (Eds.). Proceedings of the 7th Python in Science Conference (SciPy 2008), pp. 62-66.</p></li><li><p>Spear, S.F., N. Balkenhol, M.-J. Fortin, B.H. McRae and K. Scribner. 2010. Use of resistance surfaces for landscape genetic studies: Considerations of parameterization and analysis. Molecular Ecology 19(17): 3576-3591.</p></li><li><p>Zeller K.A., McGarigal K., and Whiteley A.R. 2012. Estimating landscape resistance to movement: a review. Landscape Ecology 27: 777-797.</p></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="usage/">User Guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 11 August 2023 16:44">Friday 11 August 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
